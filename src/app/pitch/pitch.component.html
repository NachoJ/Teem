<div fxLayout="column" class="addpitchwrapper">
    <!-- error -->
    <div *ngIf="error" class="error"> {{error}} </div>
    <div *ngIf="success" class="success"> {{success}} </div>
    <div fxFlex="100" class="add-btn">
        <button md-raised-button (click)="addMore()">Add more pitches</button>
    </div>
    <div *ngFor="let p of pitches;let i = index" class="single-form">
        <form [formGroup]="pitchFormGroupArray[i]" (click)="formChanged()" (keyup)="formChanged()" (change)="formChanged()" fxLayout="column">
            <!-- Name -->
            <button md-mini-fab (click)="removePitch(i)" class="close">
                <md-icon>close</md-icon>
            </button>
            <div fxLayout="column" class="form-group">
                <md-input-container class="md-block">
                    <input mdInput class="user-text-label" formControlName="name" [(ngModel)]="p.name" placeholder="Name" required> </md-input-container>
                <div *ngIf="pitchFormGroupArray[i].controls.name.invalid && pitchFormGroupArray[i].controls.name.touched" fxFlex="100" fxLayoutAlign="right center">
                    <div ng-message="required">
                        <p class="error-message">Name is invalid</p>
                    </div>
                </div>
            </div>
            <!-- Covering -->
            <div fxLayout="column" fxFlex="100" class="groundoption">
                <h2>Covering</h2>
                <md-radio-group class="md-block" formControlName="covering" [(ngModel)]="p.covering" aria-label="Covering" required>
                    <md-radio-button value="Outdoor">Outdoor</md-radio-button>
                    <md-radio-button value="Indoor">Indoor</md-radio-button>
                    <md-radio-button value="Outdoor/Indoor">Outdoor/Indoor</md-radio-button>
                </md-radio-group>
                <div *ngIf="pitchFormGroupArray[i].controls.covering.invalid">
                    <div ng-message="required">
                        <p class="error-message">Covering is invalid</p>
                    </div>
                </div>
            </div>
            <!-- Lights -->
            <div fxLayout="column" fxFlex="100" class="groundoption">
                <h2>Lights</h2>
                <md-radio-group class="md-block" formControlName="lights" [(ngModel)]="p.lights" required>
                    <md-radio-button [value]="true">Yes</md-radio-button>
                    <md-radio-button [value]="false">No</md-radio-button>
                </md-radio-group>
                <div *ngIf="pitchFormGroupArray[i].controls.lights.invalid ">
                    <div ng-message="required" fxLayoutAlign="start start">
                        <p class="error-message">Lights is invalid</p>
                    </div>
                </div>
            </div>
            <div fxLayout="row" class="choosesurface">
                <!-- Surface -->
                <div fxFlex="33" class="form-group">
                    <md-select class="md-block" formControlName="surface" [(ngModel)]="p.surface" placeholder="Surface" required>
                        <md-option *ngFor="let so of surfaceOptions" [value]="so.value"> {{ so.viewValue }} </md-option>
                    </md-select>
                    <div *ngIf="pitchFormGroupArray[i].controls.surface.invalid ">
                        <div ng-message="required" fxLayoutAlign="start start">
                            <p class="error-message">Surface is invalid</p>
                        </div>
                    </div>
                </div>
                <!-- Sports -->
                <div fxLayoutAlign="start start" fxFlex="33" class="form-group">
                    <md-select class="md-block" formControlName="sports" [(ngModel)]="p.sport" placeholder="Sport" required>
                        <md-option *ngFor="let sport of sportOptions" [value]="sport.sportkey"> {{ sport.sporttitle }} </md-option>
                    </md-select>
                    <div *ngIf="pitchFormGroupArray[i].controls.sports.invalid">
                        <div ng-message="required" fxLayoutAlign="start start">
                            <p class="error-message">Sports is invalid</p>
                        </div>
                    </div>
                </div>

                <!-- Price -->
                <div fxFlex="33" class="form-group price">
                    <md-input-container class="md-block">
                        <input mdInput class="user-text-label" formControlName="price" [(ngModel)]="p.price" placeholder="Price" required> </md-input-container>
                    <div *ngIf="pitchFormGroupArray[i].controls.price.invalid && pitchFormGroupArray[i].controls.price.touched">
                        <div ng-message="required" fxLayoutAlign="start start">
                            <p class="error-message">Price is invalid</p>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="save-btn">
        <button md-raised-button [disabled]="!isFormValid" (click)="SavePitch()">Save</button>
    </div>
    <!--<button md-raised-button *ngIf="pitchFormGroupArray.length<=0 && deleteData.lenght>=1" (click)="SavePitch()">Delete All</button>-->
    <!--{{covering}} {{lights}}{{surface}}{{sports}}{{price}}-->
</div>